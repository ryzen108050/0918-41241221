<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‰ªåˆ€çŸ³é ­å¸ƒéŠæˆ²</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <style>
        body {
            text-align: center; /* ç½®ä¸­å°é½Šæ•´å€‹é é¢å…§å®¹ */
            position: relative; /* ç›¸å°å®šä½ä»¥ä¾¿æ–¼çµ•å°å®šä½çš„å½©å¸¶ */
            overflow: hidden; /* éš±è—è¶…å‡ºé‚Šç•Œçš„å…§å®¹ */
            transition: transform 0.1s; /* ç‚ºéœ‡å‹•æ•ˆæœæ·»åŠ éæ¸¡ */
        }
        .button {
            position: relative; /* ç›¸å°å®šä½ä»¥ä¾¿æ–¼çµ•å°å®šä½çš„æ–‡å­— */
            width: 100px; /* æŒ‰éˆ•å¯¬åº¦ */
            height: 100px; /* æŒ‰éˆ•é«˜åº¦ */
            margin: 10px;
            border: none; /* å»æ‰é‚Šæ¡† */
            background: transparent; /* é€æ˜èƒŒæ™¯ */
            cursor: pointer; /* æ»‘é¼ æ‡¸åœæ™‚è®Šç‚ºæ‰‹å‹ */
        }
        .button img {
            width: 100%; /* åœ–ç‰‡å¡«æ»¿æŒ‰éˆ• */
            height: 100%; /* åœ–ç‰‡å¡«æ»¿æŒ‰éˆ• */
        }
        #message {
            margin-top: 20px; /* è¨Šæ¯èˆ‡æŒ‰éˆ•çš„è·é›¢ */
            font-size: 24px; /* è¨Šæ¯å­—é«”å¤§å° */
            color: #333; /* è¨Šæ¯é¡è‰² */
        }
        .win {
            color: #ff6347; /* ç²å‹æ™‚çš„å­—é«”é¡è‰²ï¼ˆç•ªèŒ„è‰²ï¼‰ */
            font-weight: bold; /* åŠ ç²— */
        }
        .draw {
            color: #007bff; /* å¹³å±€çš„å­—é«”é¡è‰²ï¼ˆè—è‰²ï¼‰ */
        }
        .confetti {
            position: absolute;
            top: -50px; /* åˆå§‹ä½ç½®åœ¨ä¸Šæ–¹ */
            width: 10px;
            height: 10px;
            opacity: 0;
            animation: fall 1.5s forwards;
        }
        @keyframes fall {
            0% { top: -50px; opacity: 1; }
            100% { top: 100vh; opacity: 0; }
        }
        #leaderboard {
            margin-top: 20px; /* æ’è¡Œæ¦œèˆ‡å…¶ä»–å…§å®¹çš„è·é›¢ */
            font-size: 20px; /* æ’è¡Œæ¦œå­—é«”å¤§å° */
        }
        .stick-figure {
            position: absolute;
            bottom: 50px; /* ç«æŸ´äººåˆå§‹ä½ç½® */
            font-size: 40px; /* ç«æŸ´äººå¤§å° */
            opacity: 0; /* åˆå§‹é€æ˜åº¦ */
            animation: jump 0.5s forwards; /* è·³èˆå‹•ç•« */
        }
        @keyframes jump {
            0%, 100% { bottom: 50px; opacity: 1; }
            50% { bottom: 100px; } /* è·³èµ·çš„é«˜åº¦ */
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
    <h1>å‰ªåˆ€çŸ³é ­å¸ƒéŠæˆ²</h1>
    <button class="button" onclick="playGame('çŸ³é ­')">
        <img src="https://class.vbird.tw/~4070c009/web2/images/rock.png" alt="çŸ³é ­">
    </button>
    <button class="button" onclick="playGame('å‰ªåˆ€')">
        <img src="https://class.vbird.tw/~4090c009/web2/images/scissors.png" alt="å‰ªåˆ€">
    </button>
    <button class="button" onclick="playGame('å¸ƒ')">
        <img src="https://class.vbird.tw/~4070c018/web2/images/paper.png" alt="å¸ƒ">
    </button>
    
    <div id="message"></div>
    <div id="leaderboard">
        <h2>æ’è¡Œæ¦œ</h2>
        <p>å‹åˆ©æ¬¡æ•¸: <span id="wins">0</span></p>
    </div>

    <!-- é€™è£¡æ˜¯æ–°çš„å‹åˆ©éŸ³æ•ˆï¼Œæ›¿æ›ç‚ºä½ ä¸‹è¼‰çš„éŸ³æ•ˆæ–‡ä»¶ -->
    <audio id="winSound" src="#éŸ³æ•ˆç´ æ 002 éŠæˆ²å¤±æ•—.mp3"></audio>
    <audio id="drawSound" src="ğŸ†é€šé—œéŸ³æ•ˆï¼ƒshorts.mp3"></audio>
    <audio id="loseSound" src="åœ°éµè·‘é…·  è³¼ç‰©å¤±æ•—éŸ³æ•ˆ.mp3"></audio>


    <script>
        let winCount = 0; // ç©å®¶ç²å‹æ¬¡æ•¸

        function playGame(playerChoice) {
            const choices = ['çŸ³é ­', 'å‰ªåˆ€', 'å¸ƒ'];
            const computerChoice = choices[Math.floor(Math.random() * choices.length)];
            let result;
            let resultClass;

            if (playerChoice === computerChoice) {
                result = 'å¹³å±€ï¼';
                resultClass = 'draw';
                playSound('drawSound'); // æ’­æ”¾å¹³å±€éŸ³æ•ˆ
            } else if (
                (playerChoice === 'çŸ³é ­' && computerChoice === 'å‰ªåˆ€') ||
                (playerChoice === 'å‰ªåˆ€' && computerChoice === 'å¸ƒ') ||
                (playerChoice === 'å¸ƒ' && computerChoice === 'çŸ³é ­')
            ) {
                result = 'ä½ ç²å‹äº†ï¼';
                resultClass = 'win';
                winCount++;
                updateLeaderboard();
                shakePage();
                createConfetti();
                dance();
                playSound('winSound'); // æ’­æ”¾ç²å‹éŸ³æ•ˆ

                if (winCount === 3) {
                    showAlert('ä½ æ˜¯å‹åˆ©è€…ï¼');
                    resetGame();
                }
            } else {
                result = 'é›»è…¦ç²å‹äº†ï¼';
                resultClass = 'lose';
                playSound('loseSound'); // æ’­æ”¾å¤±æ•—éŸ³æ•ˆ
            }

            document.getElementById('message').innerHTML = 
                'ä½ é¸æ“‡äº†ï¼š' + playerChoice + '<br>' + 
                'é›»è…¦é¸æ“‡äº†ï¼š' + computerChoice + '<br>' + 
                '<span class="' + resultClass + '">' + result + '</span>';
        }

        function playSound(soundId) {
            const sound = document.getElementById(soundId);
            sound.currentTime = 0; // é‡ç½®æ’­æ”¾æ™‚é–“
            sound.play(); // æ’­æ”¾éŸ³æ•ˆ
        }

        function showAlert(message) {
            Swal.fire({
                title: message,
                icon: 'success',
                confirmButtonText: 'å¥½ï¼'
            });
        }

        function shakePage() {
            document.body.style.animation = 'shake 0.5s';
            setTimeout(() => {
                document.body.style.animation = '';
            }, 500);
        }

        function createConfetti() {
            const colors = ['#ff0', '#0f0', '#00f', '#f00', '#ff7f0e'];
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                document.body.appendChild(confetti);
                
                setTimeout(() => {
                    confetti.remove();
                }, 1500);
            }
        }

        function updateLeaderboard() {
            document.getElementById('wins').textContent = winCount;
        }

        function dance() {
            const leftFigures = createFigures('left');
            const rightFigures = createFigures('right');

            const allFigures = [...leftFigures, ...rightFigures];
            allFigures.forEach((figure, index) => {
                setTimeout(() => {
                    figure.style.animation = 'jump 0.5s forwards';
                }, index * 300);
            });

            setTimeout(() => {
                allFigures.forEach(figure => figure.remove());
            }, 2400);
        }

        function createFigures(side) {
            const figures = [];
            const count = 10;
            const leftOffset = side === 'left' ? '-50vw' : '50vw';

            for (let i = 0; i < count; i++) {
                const stickFigure = document.createElement('div');
                stickFigure.classList.add('stick-figure');
                stickFigure.textContent = 'ğŸ•º';
                stickFigure.style.left = `${(i + 1) * 100 / (count + 1)}%`;
                stickFigure.style.transform = `translateX(${leftOffset})`;
                stickFigure.style.bottom = (i % 2 === 0 ? 100 : 0) + 'px';
                document.body.appendChild(stickFigure);
                figures.push(stickFigure);
            }

            return figures;
        }

        function resetGame() {
            winCount = 0;
            updateLeaderboard();
        }
    </script>
</body>
</html>
